<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add to Cart Example</title>
<link rel="stylesheet" href="test-web.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
<style>
  .product-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* สองแถวแนวนอน */
    grid-gap: 20px; /* ระยะห่างระหว่างสินค้า */
}

.product-card {
    border: 2px solid #ddd;
    border-radius: 4px;
    padding: 16px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    text-align: center;
  }
  .quantity {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .btn {
    margin: 0 5px;
  }

  .cart-items {
    margin-top: 20px;
    border: 5px solid #d7a49a;
    border-radius: 10px;
    padding: 10px;
  }

  .total-price {
    font-weight: bold;
  }

  .add-to-cart {
    background-color: #4c5372;
    color: white;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
  }
</style>
</head>
<body>
    <header class="header-box">HANFU SHOP</header>
<div class="carousel">
    <div class="carousel-item"><img src="/Lab04_347_javacript/img/04.jpeg" alt="Product 1"></div>
    <div class="carousel-item"><img src="/Lab04_347_javacript/img/05.jpeg" alt="Product 2"></div>
    <div class="carousel-item"><img src="/Lab04_347_javacript/img/06.jpeg" alt="Product 3"></div>
    
</div>

<div class="cart">
    <div class="product-list">
        <div class="product-card">
            <div class="card">
            <img src="/Lab04_347_javacript/img/Unknown.jpg" alt="Product1" width="250px">
            <div class="card-body">
                <h4 class="card-title">บุหงาโรยรา</h4>
                <div class="text-sizzing">ชุด 3 ชิ้น</div>
                <div class="text-size">—กระโปรงเหอจื่อ</div>
                <div class="text-size">—เสื้อคลุมตัวในไม่มีลายปัก</div>
                <div class="text-size">—เสื้อคลุมนอกปักลาย</div>
                <span class="product-price">price : 1550 ฿</span>
                <div class="quantity">
                    <button class="btn btn-sm decrease-quantity">-</button>
                    <span class="product-quantity">1</span>
                    <button class="btn btn-sm increase-quantity">+</button>
                    <button class="add-to-cart">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="cart">
    <div class="product-list">
        <div class="product-card">
            <div class="card">
            <img src="/Lab04_347_javacript/img/Unknown-2.jpg" alt="Product1" width="250px">
            <div class="card-body">
                <h4 class="card-title">บุบผารายรอบ</h4>
                <div class="text-sizzing">ชุด 4 ชิ้น</div>
                <div class="text-size">—กระโปรงเหอจื่อ </div>
                <div class="text-size">—เสื้อตัวในไม่มีลายปัก</div>
                <div class="text-size">—เสื้อคลุมตัวในปักลาย</div>
                <div class="text-size"> —เสื้อคลุมตัวนอกปักลาย </div>
                <span class="product-price">price : 2359 ฿</span>
                <div class="quantity">
                    <button class="btn btn-sm decrease-quantity">-</button>
                    <span class="product-quantity">1</span>
                    <button class="btn btn-sm increase-quantity">+</button>
                    <button class="add-to-cart">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="cart">
    <div class="product-list">
        <div class="product-card">
            <div class="card">
            <img src="/Lab04_347_javacript/img/Unknown-4.jpg" alt="Product1" width="250px">
                <div class="card-body">
                    <h4 class="card-title">พฤกษาโอบอ้อม</h4>
                    <div class="text-sizzing">ชุด 4 ชิ้น</div>
                    <div class="text-size">-กระโปรงยาวตัวใน</div>
                    <div class="text-size">-กระโปรงสั้นตัวนอก</div>
                    <div class="text-size">-เสื้อตัวใน</div>
                    <div class="text-size">-เสื้อตัวนอก</div>
                    <span class="product-price">price : 1890 ฿</span>                
                    <div class="quantity">
                        <button class="btn btn-sm decrease-quantity">-</button>
                        <span class="product-quantity">1</span>
                        <button class="btn btn-sm increase-quantity">+</button>
                        <button class="add-to-cart">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="cart">
    <div class="product-list">
        <div class="product-card">
            <div class="card">
            <img src="/Lab04_347_javacript/img/Unknown-5.jpg" alt="Product1" width="250px">
            <div class="card-body">
                <h4 class="card-title">เพลิงนารี</h4>
                <div class="text-sizzing">ชุด 5 ชิ้น</div>
                <div class="text-size">-กระโปรงยาว</div>
                <div class="text-size">-กระโปรงระบาย</div>
                <div class="text-size">-เสื้อตัวใน</div>
                <div class="text-size">-เสื้อตัวนอก</div>
                <div class="text-size">-ระบายแขน</div>
                <span class="product-price">price : 2269 ฿</span>                
                <div class="quantity">
                    <button class="btn btn-sm decrease-quantity">-</button>
                    <span class="product-quantity">1</span>
                    <button class="btn btn-sm increase-quantity">+</button>
                    <button class="add-to-cart">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="cart">
    <div class="product-list">
        <div class="product-card">
            <div class="card">
            <img src="/Lab04_347_javacript/img/Unknown-6.jpg" alt="Product1" width="250px">
            <div class="card-body">
                <h4 class="card-title">ราตรีนิลกร</h4>
                <div class="text-sizzing">ชุด 4 ชิ้น</div>
                <div class="text-size">-เสื้อตัวในปักลาย</div>
                <div class="text-size">-เสื้อตัวนอก</div>
                <div class="text-size">-กระโปรงตัวใน</div>
                <div class="text-size">-กระโปรงริ้ว</div>
                <span class="product-price">price : 1990 ฿</span>
                <div class="quantity">
                    <button class="btn btn-sm decrease-quantity">-</button>
                    <span class="product-quantity">1</span>
                    <button class="btn btn-sm increase-quantity">+</button>
                    <button class="add-to-cart">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>
</div>

  <div class="cart-items">
    <h3>รายการในตะกร้า</h3>
    <ul class="item-list"></ul>
    <div class="cart-total">
      <h4>ยอดรวมราคา:</h4>
      <span class="total-price">0 ฿</span>
    </div>
  </div>
</div>

<script>
    const products = [
      { name: 'บุหงาโรยรา', price: 1550 },
      { name: 'บุบผารายรอบ', price: 2359 },
      { name: 'พฤกษาโอบอ้อม', price: 1890 },
      { name: 'เพลิงนารี', price: 2269 },
      { name: 'ราตรีนิลกร', price: 1990 }
    ];
    const addToCartButtons = document.querySelectorAll('.add-to-cart');
    const decreaseQuantityButtons = document.querySelectorAll('.decrease-quantity');
    const increaseQuantityButtons = document.querySelectorAll('.increase-quantity');
    const productQuantitySpans = document.querySelectorAll('.product-quantity');
    const itemList = document.querySelector('.item-list');
    const totalPriceSpan = document.querySelector('.total-price');
    
    const cart = [];
    let total = 0;

    addToCartButtons.forEach((button, index) => {
  let quantity = 1;
  
  decreaseQuantityButtons[index].addEventListener('click', () => {
    if (quantity > 1) {
      quantity--;
      productQuantitySpans[index].textContent = quantity;
    }
  });

  increaseQuantityButtons[index].addEventListener('click', () => {
    quantity++;
    productQuantitySpans[index].textContent = quantity;
  });
  
  button.addEventListener('click', () => {
    cart.push({
      name: products[index].name,
      price: products[index].price,
      quantity: quantity
    });

    total += products[index].price * quantity;


    if (total >= 1000) {
      total *= 0.9;
    }

    alert(`เพิ่ม ${products[index].name} ลงในตะกร้าเรียบร้อยแล้ว`);

    updateCartItems();
  });
});

function updateCartItems() {
  itemList.innerHTML = '';
  cart.forEach(item => {
    const li = document.createElement('li');
    li.textContent = `${item.name} (${item.quantity} ชิ้น) - ${item.price * item.quantity.toFixed(2)} ฿`;
    itemList.appendChild(li);
  });

  totalPriceSpan.textContent = `${total.toFixed(2)} ฿`;
}
</script>


<div class="vali-da">
    <h3>ที่อยู่การจัดส่ง</h3>
    ชื่อ-สกุล : <input type="text" required>  ที่อยู่ : <textarea rows="1" cols="55" required></textarea>
    เบอร์โทรศัพท์ : <input type="text" required>  Email : <input type="text">  
    รหัสไปรษณีย์ <input type="text" required>
    <br>
    <br>
  
</div>
<br>
<div class="submitt"><input type="reset"> <input type="submit"></div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<script src="test-web.js"></script>
</body>
</html>